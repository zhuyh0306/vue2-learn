{"version":3,"file":"index.js","sources":["../src/compiler/index.js","../src/utils.js","../src/observe/arr.js","../src/observe/index.js","../src/initState.js","../src/init.js","../src/index.js"],"sourcesContent":["// @ts-nocheck\n\n\n\nvar ncname = '[a-zA-Z_][\\\\w\\\\-\\\\.]*';//匹配标签名称\nvar qnameCapture = \"((?:\" + ncname + \"\\\\:)?\" + ncname + \")\"; //  ((?:[a-zA-Z_][\\\\w\\\\-\\\\.]*\\\\:)?[a-zA-Z_][\\\\w\\\\-\\\\.]*)  <span:xx>\nvar startTagOpen = new RegExp((\"^<\" + qnameCapture))  // 匹配开头必需是< 后面可以忽略是任何字符串  ^<((?:[a-zA-Z_][\\\\w\\\\-\\\\.]*\\\\:)?[a-zA-Z_][\\\\w\\\\-\\\\.]*)  标签开头的正则，捕获内容是标签名称\nvar startTagClose = /^\\s*(\\/?)>/; //     匹配 > 标签 或者/> 闭合标签\nvar endTag = new RegExp((\"^<\\\\/\" + qnameCapture + \"[^>]*>\"));  //匹配开头必需是</ 后面可以忽略是任何字符串  ^<\\\\/((?:[a-zA-Z_][\\\\w\\\\-\\\\.]*\\\\:)?[a-zA-Z_][\\\\w\\\\-\\\\.]*)[^>]*>\nvar doctype = /^<!DOCTYPE [^>]+>/i; //匹配html的头文件 <!DOCTYPE html>\nvar defaultTagRE = /\\{\\{((?:.|\\n)+?)\\}\\}/g; //匹配viwe 视图中的{{指令}}\n\n// Regular Expressions for parsing tags and attributes 解析标记和属性的正则表达式\nvar attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\n\nlet root //根元素\nlet createparent // 当前父元素\nlet stack =[]// 数组结构栈\n\nfunction start(tag,attr) {\n    console.log(tag, attr, '开始的标签')\n    let element = createASTElement(tag, attr)\n    if (!root) {\n        root = element\n    }\n    createparent = element\n    stack.push(element)\n}\nfunction charts(text) {\n    console.log(text, '文本')\n    //空格\n    text = text.replace(/\\s/g, '')\n    if (text) {\n        createparent.children.push(text)\n    }\n}\nfunction end(tag) {\n    console.log(tag, '结束标签')\n    let element = stack.pop()\n    createparent = stack[stack.length - 1]\n    if (createparent) {\n        element.parent = createparent.tag\n        createparent.children.push(element)\n    }\n}\n\nfunction createASTElement(tag, attr) {\n    return {\n        tag,\n        attr,\n        children: [],\n        type: 1,\n        parent:null\n    }\n}\nfunction parseHTML(html) {\n    while (html) {\n        //  判断标签\n        let textEnd = html.indexOf('<')\n        if (textEnd === 0) {\n            //第一种情况  开始标签\n            const startTagMatch = parseStartTag()\n            if (startTagMatch) {\n                start(startTagMatch.tagName, startTagMatch.attr)\n                continue\n            }\n            // 结束标签\n            let endTagMatch = html.match(endTag)\n            if (endTagMatch) {\n                advance(endTagMatch[0].length)\n                end(endTagMatch[1])\n                continue\n            }\n        }\n        let text\n         //第二种情况 文本\n        if (textEnd > 0) {\n            // console.log(textEnd)\n            text = html.substring(0, textEnd)\n            // console.log(text)\n        }\n        if (text) {\n            advance(text.length)\n            charts(text)\n        }\n    }\n         //获取开始标签的名称，收集属性集合，开始位置和结束位置，并且返回该对象\n    function parseStartTag() { \n        const start = html.match(startTagOpen)\n        if (!start) {\n            return null\n        }\n        // console.log(start)\n        let match = {\n            tagName: start[1],\n            attr:[]\n        }\n        //删除开始标签\n        advance(start[0].length)\n        //处理属性   多个遍历\n        let attr\n        let end \n        while (!(end = html.match(startTagClose) )&& (attr = html.match(attribute))) {\n            // console.log(attr)\n            match.attr.push({ name: attr[1], value: attr[3] || attr[4] || attr[5] })\n            advance(attr[0].length)\n        }\n        // console.log(end, 'end')\n        if (end) {\n            advance(end[0].length)\n            return match\n        }\n\n    }\n    function advance(n) {\n       html= html.substring(n)\n        // console.log(html)\n    }\n        console.log(root)\n    return root\n}\n\n\nexport function compileToFunctions(el) {\n    // console.log(el)\n    parseHTML(el)\n}","export function isObject(obj) {\n    //判断是否是对象\n    return obj !== null && typeof obj === 'object'\n}","\n//重写数组方法\n//（1）获取原来的数组方法\nlet oldArrayProtoMethods = Array.prototype\n//（2）继承\n\nexport let arrayMethods = Object.create(oldArrayProtoMethods)\n//劫持\n\nlet methods = [\n    'push',\n    'pop',\n    'unshift',\n    'shift',\n    'splice',\n    'sort',\n    'reverse'\n]\n\nmethods.forEach((item) => {\n    arrayMethods[item] = function (...args) {\n\n        // console.log('数组劫持了',args)\n        let result = oldArrayProtoMethods[item].apply(this, args)\n        let inserted\n        switch (item) {\n            case 'push':\n                inserted = args\n                break\n            case 'unshift':\n                inserted = args\n                break\n            case 'splice':\n                inserted = args.splice(2)\n                break\n        }\n        const ob = this.__ob__\n        if (inserted) {\n            ob.observeArray(inserted)\n        }\n        return result\n    }\n})","import { isObject } from \"../utils\"\nimport {arrayMethods} from './arr'\nexport function observe(data) {\n    // 判断如果不是对象,直接return\n    if (!isObject(data)) {\n        return data\n    }\n    new Observer(data)\n\n}\n// Observer类的作用：因为Object.defineProperty只能对对象的一个熟悉进行劫持，封装后可以对对象进行劫持\nclass Observer {\n    constructor(value) {\n        // 劫持数组时方便拿到Observer类上的方法\n        Object.defineProperty(value, '__ob__', {\n            enumerable: false,\n            value: this\n        })\n        if (Array.isArray(value)) {\n            // @ts-ignore\n            value.__proto__ = arrayMethods\n            this.observeArray(value)\n        } else {\n            this.walk(value)\n        }\n        \n    }\n    walk(value) {\n        let keys = Object.keys(value);\n        keys.forEach(key => {\n            //对每个属性进行劫持 \n            defineReactive(value,key,value[key])\n        });\n    }\n    observeArray(value) {\n        debugger\n        value.forEach(item => {\n            observe(item)\n        });\n    }\n}\n\nfunction defineReactive(data, key, value) {\n    observe(value)\n    Object.defineProperty(data,key, {\n        get() {\n            console.log('获取value值',data,key)\n            return value\n        }, \n        set(newVal) {\n            if (newVal === value) return\n            console.log('set')\n            // 如果设置的值是对象，还要深度劫持\n            observe(newVal)\n            value = newVal\n        }\n    })\n}","import { observe} from \"./observe/index\"\n\nexport function initState(vm) {\n    let opt = vm.$options\n    console.log(opt)\n    if (opt.props) {\n        initProps(vm)\n    }\n    if (opt.methods) {\n        initMethods(vm)\n    }\n    if (opt.data) {\n        initData(vm)\n    }\n    if (opt.computed) {\n        initComputed(vm)\n    }\n    if (opt.watch) { \n        initWatch(vm)\n    }\n}\nfunction initProps(vm) {\n    console.log('initProps')\n}\n\nfunction initMethods(vm) {\n    console.log('initMethods')\n    \n}\n/**\n * 初始化data\n */\nfunction initData(vm) {\n\n    console.log('initData')\n    let data = vm.$options.data;\n    data = typeof data === 'function' ? data.call(vm) : data\n    vm._data = data\n    // 将data 上的属性代理到实例上 vm.mes = vm._data.mes\n    for (let key in data) {\n        proxy(vm,'_data',key)\n    }\n    //对数据进行劫持\n    observe(data)\n\n}\n // 将data 上的属性代理到实例上 vm.mes = vm._data.mes\nfunction proxy(vm, source, key) {\n    Object.defineProperty(vm, key, {\n        get() {\n            return vm[source][key]\n        },\n        set(newVal) {\n            vm[source][key] = newVal\n        }\n    })\n}\n \nfunction initComputed(vm) {\n    console.log('initComputed')\n}\nfunction initWatch(vm) {\n    console.log('initWatch')\n}","import { compileToFunctions } from \"./compiler/index\";\nimport { initState } from \"./initState\";\n\nexport function initMixin(Vue) {\n    Vue.prototype._init = function (options) {\n        // console.log(options)\n        const vm = this;\n        vm.$options = options;\n        //初始化状态\n        initState(vm)\n        //渲染模版\n        if (vm.$options.el) {\n            vm.$mount(vm.$options.el)\n        }\n    }\n    Vue.prototype.$mount = function (el) {\n        const vm = this;\n        // console.log(el,'el')\n        const options = vm.$options\n        el = document.querySelector(el)\n        if (!options.render) {\n            let template = options.template\n            if (!template&&el) {\n                el = el.outerHTML\n                // console.log(el)\n                //转换成ast语法树\n                let ast = compileToFunctions(el)\n            }\n        }\n    }\n}","import {initMixin} from './init'\nfunction Vue(options) {\n\n//初始化  \n this._init(options)\n}\ninitMixin(Vue) \nexport default Vue\n"],"names":["ncname","qnameCapture","startTagOpen","RegExp","startTagClose","endTag","attribute","root","createparent","stack","start","tag","attr","console","log","element","createASTElement","push","charts","text","replace","children","end","pop","length","parent","type","parseHTML","html","textEnd","indexOf","startTagMatch","parseStartTag","tagName","endTagMatch","match","advance","substring","name","value","n","compileToFunctions","el","isObject","obj","_typeof","oldArrayProtoMethods","Array","prototype","arrayMethods","Object","create","methods","forEach","item","_len","arguments","args","_key","result","apply","inserted","splice","ob","__ob__","observeArray","observe","data","Observer","_classCallCheck","defineProperty","enumerable","isArray","__proto__","walk","_createClass","key","keys","defineReactive","get","set","newVal","initState","vm","opt","$options","props","initProps","initMethods","initData","computed","initComputed","watch","initWatch","call","_data","proxy","source","initMixin","Vue","_init","options","$mount","document","querySelector","render","template","outerHTML"],"mappings":"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"}